<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title></title>
    <link rel="stylesheet" href="../css/main.css">
  </head>
    <body class="">
    <div id="info_statut"></div>
  <nav>
    <div class="searchbar">
      <div class="divloupebar">
        <div class="divloupe">
          <span class="loupe">
            <svg viewBox="0 0 24 24" width="1em" height="1em" fill="currentColor" class="zds-icon RC794g X9n9TI DlJ4rT _5Yd-hZ HlZ_Tf I_qHp3" focusable="false" aria-hidden="true" style="font-size: 20px;">
              <path d="m23.03 21.97-7.164-7.164A8.969 8.969 0 0 0 18 9a9 9 0 1 0-9 9 8.969 8.969 0 0 0 5.806-2.134l7.164 7.164a.748.748 0 0 0 1.06 0 .75.75 0 0 0 0-1.06zM1.5 9A7.5 7.5 0 0 1 9 1.5 7.509 7.509 0 0 1 16.5 9a7.5 7.5 0 1 1-15 0z"></path>
            </svg>
          </span>
        </div>
        <input class="search" id="header-search-input" type="text" name="q" autocomplete="off" spellcheck="false" placeholder="Rechercher" style="padding-left:30px" value="">
      </div>
  </div>
  </nav>
  
    <div class="div_principal">
      <ul>
        <li><a href="/html/connexion.html">Connexion</a></li>
        <li><a href="/html/deconnexion.html">Deconnexion</a></li>
        <li><a href="/html/inscription.html">Inscription</a></li>
        <li><a href="/html/supression.html">Supression</a></li>
      </ul>
      <div id="liste_livres"></div>
      <script src="/js/index.js"></script>
      <script>
        //const livres = liste_livres({empruntes: false});
        //var tag_livres = document.getElementById("liste_livres");
        //tag_livres.innerHTML += "<ul>";
        //livres.forEach(livre => {
        //  tag_livres.innerHTML += `<li>${livre.id} ${livre.titre} ${livre.genre} ${livre.date_parution}</li>`;
        //});
        //tag_livres.innerHTML += "</ul>";
        est_connecte()
            .then(info_statut => {
                let msg_connect = info_statut.resultat ? "Connecté" : "Pas connecté";
                document.getElementById("info_statut").innerHTML = `<p>${msg_connect}, Grade Nv: ${info_statut.donnees.grade}</p><br/>`;
            })
            .catch(error => {
                document.getElementById("info_statut").innerHTML = `<p>Statut de connexion indisponible</p><br/>`;
            });
      </script>

  <script src="https://code.highcharts.com/highcharts.js"></script>
  <script src="https://code.highcharts.com/modules/data.js"></script>
  <script src="https://code.highcharts.com/modules/exporting.js"></script>


  <div class="statistiques">


  <div id="container"></div>

    <script>
Highcharts.chart('container', {
    chart: {
        type: 'bar',
        height: 600
    },
    title: {
        text: 'vos genres préférés :'
    },
    legend: {
        enabled: false
    },
    subtitle: {
        enabled: false
    },
    data: {
        csvURL: 'https://demo-live-data.highcharts.com/vs-load.csv',
        enablePolling: true,
        dataRefreshRate: 1
    },
    plotOptions: {
        bar: {
            colorByPoint: true,
            borderRadius: '50%'
        },
         series: {
          colorByPoint: true
            /*zones: [{
                color: '#4CAF50',
                value: 0
            }, {
                color: '#8BC34A',
                value: 10
            }, {
                color: '#CDDC39',
                value: 20
            }, {
                color: '#CDDC39',
                value: 30
            }, {
                color: '#FFEB3B',
                value: 40
            }, {
                color: '#FFEB3B',
                value: 50
            }, {
                color: '#FFC107',
                value: 60
            }, {
                color: '#FF9800',
                value: 70
            }, {
                color: '#FF5722',
                value: 80
            }, {
                color: '#F44336',
                value: 90
            }, {
                color: '#F44336',
                value: Number.MAX_VALUE
            }]*/,
/*             dataLabels: {
                enabled: true,
                format: '{point.y:.0f}%'
            } */
        } 
    },
    tooltip: {
        valueDecimals: 1,
        valueSuffix: '%'
    },
    xAxis: {
        type: 'category',
        categories: ['roman', 'science-fi', 'thriller', 'policier','fantaisie','autobio'],
        labels: {
            style: {
                fontSize: '10px'
            }
        }
    },
    yAxis: {
        max: 100,
        title: false,
/*         plotBands: [{
            from: 0,
            to: 30,
            color: '#E8F5E9'
        }, {
            from: 30,
            to: 70,
            color: '#FFFDE7'
        }, {
            from: 70,
            to: 100,
            color: '#FFEBEE'
        }] */
    }
});


    </script>


  </div> 



    </div>
  </body>
</html>
